<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Pink Sparkle Grid</title>
<style>
    body {
        background: #111;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-family: Arial;
    }

    #grid {
        display: grid;
        grid-template-columns: repeat(50, 12px);
        grid-template-rows: repeat(30, 12px);
        gap: 2px;
    }

    .cell {
        width: 12px;
        height: 12px;
        background: #1a1a1a;
        border-radius: 2px;
    }

    /* âœ¨ Sparkle animation */
    .sparkle {
        animation: pinkTwinkle 400ms ease-in-out;
    }

    /* ðŸŽ¨ Pink shades */
    .pink1 { background-color: #FFD7EF; }
    .pink2 { background-color: #FF9AD5; }
    .pink3 { background-color: #FF5FBF; }
    .pink4 { background-color: #D81B60; }

    @keyframes pinkTwinkle {
        0% {
            opacity: 0;
            box-shadow: 0 0 2px rgba(255, 175, 220, 0.4);
        }
        50% {
            opacity: 1;
            box-shadow: 0 0 6px rgba(255, 120, 210, 0.9);
        }
        100% {
            opacity: 0;
            box-shadow: 0 0 2px rgba(255, 175, 220, 0.4);
        }
    }

    /* Button */
    button {
        position: absolute;
        top: 20px;
        padding: 10px 20px;
        font-size: 16px;
    }
</style>
</head>
<body>

<button onclick="toggleSparkles()">Start Pink Sparkle</button>
<div id="grid"></div>

<script>
    const ROWS = 30;
    const COLS = 50;
    let running = false;
    let lastSparkles = [];

    // Build Grid
    const grid = document.getElementById("grid");
    for (let r = 0; r < ROWS; r++) {
        for (let c = 0; c < COLS; c++) {
            const cell = document.createElement("div");
            cell.classList.add("cell");
            cell.id = `cell-${r}-${c}`;
            grid.appendChild(cell);
        }
    }

    function getCell(r, c) {
        return document.getElementById(`cell-${r}-${c}`);
    }

    function delay(ms) {
        return new Promise(res => setTimeout(res, ms));
    }

    function toggleSparkles() {
        running = !running;
        if (running) {
            document.querySelector("button").innerText = "Stop Pink Sparkle";
            pinkSparkle();
        } else {
            document.querySelector("button").innerText = "Start Pink Sparkle";
        }
    }

    // âœ¨ Pink Sparkle Animation
    async function pinkSparkle() {
        const density = 0.015;
        const frameDelay = 60;
        const shades = ["pink1", "pink2", "pink3", "pink4"];

        while (running) {
            // clear last sparkles
            for (const p of lastSparkles) {
                const cell = getCell(p.r, p.c);
                if (cell) cell.className = "cell";
            }

            lastSparkles = [];

            // number of sparkles this frame
            const totalCells = ROWS * COLS;
            const count = Math.max(1, Math.floor(totalCells * density));

            for (let i = 0; i < count; i++) {
                const r = Math.floor(Math.random() * ROWS);
                const c = Math.floor(Math.random() * COLS);
                const cell = getCell(r, c);
                const shade = shades[Math.floor(Math.random() * shades.length)];

                cell.className = `cell sparkle ${shade}`;
                lastSparkles.push({ r, c });
            }

            await delay(frameDelay);
        }
    }
</script>

</body>
</html>
